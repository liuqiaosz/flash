<?xml version="1.0" encoding="utf-8"?>
<ui:AdvanceWindow xmlns:fx="http://ns.adobe.com/mxml/2009" 
				  xmlns:s="library://ns.adobe.com/flex/spark" 
				  xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:ui="editor.uitility.ui.*" width="400" height="300" xmlns:local="*" >
	<ui:layout>
		<s:VerticalLayout/>
	</ui:layout>
	<fx:Declarations>
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			
			import pixel.texture.vo.PixelTexture;
			import pixel.tools.texture.event.TextureToolEvent;
			
			[Bindable]
			private var _texture:PixelTexture = null;
			
			override protected function initializedComplete(event:FlexEvent):void
			{
				_texture = new PixelTexture();
			}

			public function get texture():PixelTexture
			{
				return _texture;
			}
			
			protected function SavePropertie(event:TextureToolEvent):void
			{
				var notify:TextureToolEvent = new TextureToolEvent(TextureToolEvent.TEXTURE_APPLYENCODE);
				notify.value = _texture;
				dispatchEvent(notify);
				CloseWindow();
			}
			
		]]>
	</fx:Script>
	
	<local:TexturePropertie width="100%" height="100%" texture="{_texture}" ApplyChange="SavePropertie(event)" />
</ui:AdvanceWindow>
